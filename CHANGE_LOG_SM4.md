# Добавление алгоритма блочного шифрования SM4

- в директорию **source** добавлен файл [**ak_sm4.c**](source/ak_sm4.c), 
  в котором реализовано зашифрование и расшифрование с помощью 
  блочного алгоритма *SM4*. Описание алгоритма былы взято из официальной
  документации к алгоритму по [ссылке](https://tools.ietf.org/id/draft-crypto-sm4-00.html).
  
- Написана функция **ak_bckey_test_sm4**, которая тестирует коррекность работы алгоритма на [контрольных примерах](https://tools.ietf.org/id/draft-ribose-cfrg-sm4-09.html#rfc.appendix.A.2). Проверка осуществляется для режимов ECB и CBC на примерах "как есть". Режим CTR тестируется следующим образом: зашифроваывается вектор инициализации *IV* длиной в один блок (128 бит), после чего складывается поэлементно с блоком открытого текста по модулю 2; результирующий вектор – зашифрованный блок в режиме CTR, совпадает с контрольным примером.

- Алгоритм SM4 встроен в библиотеку, добавлен в список *OID* с номером 1.2.643.7.1.1.5.3 (??)
  
- добавлен вызов функции с тестами в [ak_libakrypt.c](source/ak_libakrypt.c)

